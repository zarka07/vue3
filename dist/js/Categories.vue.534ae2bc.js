"use strict";(self["webpackChunkvue3"]=self["webpackChunkvue3"]||[]).push([[424],{8901:function(e,t,o){o.r(t),o.d(t,{default:function(){return P}});var a=o(3396);const r={class:"p-4 categories"},i=(0,a._)("div",{class:""},[(0,a._)("h3",null,"Категории")],-1),s=(0,a._)("hr",null,null,-1),n={class:"row justify-content-evenly"};function l(e,t,o,l,c,d){const m=(0,a.up)("AddCategory"),u=(0,a.up)("EditCategory");return(0,a.wg)(),(0,a.iD)("div",r,[i,s,(0,a._)("section",null,[(0,a._)("div",n,[(0,a.Wm)(m,{onCategoryCreated:d.addCategory},null,8,["onCategoryCreated"]),(0,a.Wm)(u)])])])}var c=o(9242);const d={class:"create border border-success col-xl-5 col-lg-5 col-md-5 col-sm-5 bg-info flex-wrap m-2"},m={class:"p-2"},u=(0,a._)("div",{class:"mb-4"},[(0,a._)("h4",null,"Создать")],-1),g={class:"form-floating mb-3"},y=(0,a._)("label",{for:"floatingName"},"Название",-1),v={class:"form-floating mb-3"},b=(0,a._)("label",{for:"floatingLimit"},"Лимит",-1),p={key:0,class:"error"},h={key:0,type:"submit",class:"btn btn-success shadow-sm rounded mb-2"},f=(0,a.Uk)(" СОЗДАТЬ "),C=(0,a._)("i",{class:"bi bi-send float-end ms-2"},null,-1),w=[f,C];function _(e,t,o,r,i,s){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",m,[u,(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,c.iM)((e=>s.addCategory()),["prevent"]))},[(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingName",placeholder:"Введите название","onUpdate:modelValue":t[0]||(t[0]=t=>e.categoryName=t)},null,512),[[c.nr,e.categoryName]]),y]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",id:"floatingLimit",placeholder:"Лимит",min:"0","onUpdate:modelValue":t[1]||(t[1]=t=>e.categoryLimit=t)},null,512),[[c.nr,e.categoryLimit]]),b,r.v$.categoryLimit.required?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",p," Введите лимит "))]),r.v$.$invalid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",h,w))],32)])])}var $=o(5635),k=o(3053),L=o(9117),N={name:"add-category",mounted(){const e=this.crmStore.getUid();console.log(e)},emits:["categoryCreated"],setup(){const e=(0,$.S)();return{crmStore:e,v$:(0,k.ZP)()}},data:()=>({categoryName:"",categoryLimit:null}),validations(){return{categoryName:{required:L.C1},categoryLimit:{required:L.C1}}},methods:{async addCategory(){if(this.v$.$invalid)return void console.log(this.v$);const e={name:this.categoryName,limit:this.categoryLimit};try{const t=await this.crmStore.setNewCategory(e);this.categoryName="",this.categoryLimit=null,this.v$.$reset(),this.$emit("categoryCreated",t),this.$toast.success("Категория успешно добавлена")}catch(t){this.$toast.error(t.message)}}}},x=o(89);const q=(0,x.Z)(N,[["render",_]]);var D=q;const S={class:"edit border border-success col-xl-5 col-lg-5 col-md-5 col-sm-5 bg-light flex-wrap m-2"},U=(0,a.uE)('<div class="p-2"><div class="mb-4"><h4>Редактировать</h4></div><form><div class="mb-2"><select><option>Category</option></select><label>Выберите категорию</label></div><div class="mb-2"><input type="text" id="name" placeholder="Название"></div><div class="mb-4"><input id="limit" type="number" placeholder="Лимит"></div><button type="submit" class="btn btn-success shadow-sm rounded mb-2"> СОЗДАТЬ <i class="bi bi-send float-end ms-2"></i></button></form></div>',1),Z=[U];function E(e,t,o,r,i,s){return(0,a.wg)(),(0,a.iD)("div",S,Z)}var A={name:"edit-categorie"};const V=(0,x.Z)(A,[["render",E]]);var W=V,j={name:"categories-component",components:{AddCategory:D,EditCategory:W},data(){return{categories:[]}},methods:{addCategory(e){this.categories.push(e)}}};const M=(0,x.Z)(j,[["render",l]]);var P=M}}]);
//# sourceMappingURL=Categories.vue.534ae2bc.js.map