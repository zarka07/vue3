{"version":3,"file":"js/main.dffd26a1.js","mappings":"wKAEaA,MAAM,2E,GAKFC,MAAA,wB,GAGAD,MAAM,I,GACCA,MAAM,O,GAKHA,MAAM,aAAaC,MAAA,4C,0EAf1CC,EAAAA,EAAAA,IAsBS,gBArBLC,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAfFA,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADFA,EAAAA,EAAAA,GAAyE,YAArEC,EAAAA,EAAAA,IAAgEC,EAAA,CAAlDC,GAAI,CAAAC,KAAAA,aAAkB,C,kBAAE,IAAY,mBAAVC,EAAAA,UAAQ,M,WAExDL,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVFA,EAAAA,EAAAA,GASS,SATT,EASS,EARLC,EAAAA,EAAAA,IAOcC,EAAA,CANV,eAAa,SACZC,GAAI,CAAAC,KAAAA,SAFT,C,kBAII,IAEI,EAFJJ,EAAAA,EAAAA,GAEI,IAFJ,GAEIM,EAAAA,EAAAA,IAAAA,KADUC,UAAUC,cAAcC,QAAM,M,4BAUpE,GACIL,KAAM,YACNM,QACI,MAAMH,GAAYI,EAAAA,EAAAA,KAClB,MAAM,CACJJ,UAAAA,IAGNK,OACI,MAAO,CACHC,SAAU,uBAGlBC,QAAS,CACLC,eACIC,KAAKC,QAAQC,KAAK,CAACd,KAAK,Y,QCnCpC,MAAMe,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,yJCLQvB,MAAM,O,GAEHA,MAAM,O,GACJA,MAAM,4B,aAKNA,MAAM,wC,mBAQNA,MAAM,S,GAGJA,MAAM,U,UACTG,EAAAA,EAAAA,GAA+B,YAAzB,sBAAkB,K,UAK1BA,EAAAA,EAAAA,GAAI,qB,GACCH,MAAM,8C,uBAKDwB,SAAS,OAAOxB,MAAM,iB,SAGxBA,MAAM,qB,SAGPA,MAAM,qB,SAILA,MAAM,qB,UAMlBG,EAAAA,EAAAA,GAAM,qB,uHAlDVD,EAAAA,EAAAA,IAqDI,aApDFE,EAAAA,EAAAA,IAASqB,IACXrB,EAAAA,EAAAA,IAAuBsB,IACvBvB,EAAAA,EAAAA,GAiDO,OAjDP,EAiDO,gBAhDLD,EAAAA,EAAAA,IA+CMyB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA/CiBC,EAAAA,gBAAXC,K,WAAZ5B,EAAAA,EAAAA,IA+CM,OA/CkC6B,IAAKD,EAAQE,IAArD,EACE7B,EAAAA,EAAAA,GA4CM,MA5CN,EA4CM,EA3CJA,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAES,gBADPA,EAAAA,EAAAA,GAAiD,OAA5CH,MAAM,UAAiBiC,IAAKH,EAAQI,OAAzC,eAGJ/B,EAAAA,EAAAA,GAqCM,MArCN,EAqCM,EApCJA,EAAAA,EAAAA,GAIK,YAJDC,EAAAA,EAAAA,IAGYC,EAAA,CAFbC,GAAE,CAAAC,KAAAA,YAAA4B,OAAAA,CAAAH,GAAqCF,EAAQE,MAD9C,C,kBAED,IAAiB,mBAAfF,EAAQM,OAAK,M,KAFd,gBAKJjC,EAAAA,EAAAA,GAAoC,KAAjCkC,UAAQP,EAAQQ,aAAnB,WAEAnC,EAAAA,EAAAA,GAEI,IAFJ,EAAiB,UACfM,EAAAA,EAAAA,IAAEqB,EAAQS,OAASV,EAAAA,aAAa,QAClC,IACA1B,EAAAA,EAAAA,GAKM,MALN,EAKM,CAJJqC,IAII,WAHJtC,EAAAA,EAAAA,IAEkCyB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAApB,GAALa,IAFTtC,EAAAA,EAAAA,GAEkC,QAD/BH,OAAK,yBAAoB6B,EAAAA,YAAYY,EAAGX,KACzBC,IAAKU,GAAG,IAAC,KAF3B,OAIFC,GACAvC,EAAAA,EAAAA,GAkBM,MAlBN,EAkBM,CAfI0B,EAAAA,aAAaC,KAAb,WAFR5B,EAAAA,EAAAA,IAGS,U,MAHDF,MAAM,cACP2C,QAAK,GAAEd,EAAAA,UAAUC,IACO,sBAC/B,EAAAc,MAHA,WAIA1C,EAAAA,EAAAA,IAES,SAFT,EACU,wBAGA4B,EAAQe,mBAAqBhB,EAAAA,UAAUC,EAAQE,MAAE,eAD3D9B,EAAAA,EAAAA,IAEO,OAFP,EACoE,sBAGrD4B,EAAQe,mBAAqBhB,EAAAA,UAAUC,EAAQE,IAAE,eADhE9B,EAAAA,EAAAA,IAGM,MAHN,EACuE,eACzDO,EAAAA,EAAAA,IAAEqB,EAAQe,mBAAqBhB,EAAAA,UAAUC,EAAQE,KAAK,QACpE,MAHA,WAIA9B,EAAAA,EAAAA,IAEO,OAFP,EACS,0BAKf4C,OA9CF,U,2CAuDJ,GACEvC,KAAM,iBACNQ,OACE,MAAO,CACLgC,SAAU,KAGdC,WAAY,CAAEC,SAAAA,EAAAA,GACdpC,QACE,MAAMH,GAAYI,EAAAA,EAAAA,KACd,MAAM,CACJJ,UAAAA,IAGRO,QAAS,CACPiC,YAAYX,GACV,IAAKY,SAASZ,GACZ,MAAO,GAET,GAAIA,EAAQ,MAAO,CACjB,IAAIa,GAAeb,EAAQ,KAAKc,QAAQ,GACpCC,EAAaF,EAAYG,MAAM,IAAIC,UACnCC,EAAQ,EACZ,MAAOH,EAAW1C,OAAS6C,EAAQ,EACjCH,EAAWI,OAAOD,EAAQ,EAAG,EAAG,KAChCA,GAAS,EAEX,OAAOH,EAAWE,UAAUG,KAAK,IAEjC,OAAQpB,EAAQ,KAAKc,QAAQ,IAGjCO,YAAYnB,EAAGoB,GACb,OAAOA,EAAUC,OAASrB,GAAK,GAEjCsB,UAAUC,GACR7C,KAAKT,UAAUqD,UAAUC,EAAQhC,IACjCiC,aAAaC,QAAQ,gBAAiBC,KAAKC,UAAUjD,KAAKT,UAAUC,iBAEtE0D,aAAaL,GAEX,OACEA,EAAQnB,mBACR1B,KAAKmD,UAAUN,EAAQhC,KAG3BsC,UAAUtC,GACR,IAAIuC,EAAQ,EACZ,IAAK,IAAIC,EAAI,EAAGA,EAAIrD,KAAKT,UAAUC,cAAcC,OAAQ4D,IACnDrD,KAAKT,UAAUC,cAAc6D,KAAOxC,GACtCuC,IAGJ,OAAOA,IAGXE,SAAU,CACR9D,gBACE,OAAOQ,KAAKT,UAAUC,cAAcC,QAAU,IAEhD8D,iBACE,SAASC,EAAQC,EAAGC,GAChB,OAAID,EAAExC,MAAM0C,cAAgBD,EAAEzC,MAAM0C,eAC1B,EACNF,EAAExC,MAAM0C,cAAgBD,EAAEzC,MAAM0C,cAC3B,EACF,EAEX,GAAIC,OAAOC,KAAK7D,KAAK4B,UAAUnC,OAAS,EAAG,CACzC,IAAIqE,EAAgB9D,KAAK4B,SAASmC,MAAM,GACxC,OAAOD,EAAcE,KAAKR,GAE5B,OAAO,IAIXS,QAASC,uBACDC,IAAAA,IAAU,iBAAiBC,MAAKC,IACpCrE,KAAK4B,SAAWyC,EAASzE,KAAKgC,YAEhC,MAAM0C,EAAexB,aAAayB,QAAQ,iBACvCD,IACDtE,KAAKT,UAAUC,cAAgBwD,KAAKwB,MAAMF,M,QCvIhD,MAAMnE,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://vue3/./src/components/Project3/Header.vue","webpack://vue3/./src/components/Project3/Header.vue?5326","webpack://vue3/./src/components/Project3/Main.vue","webpack://vue3/./src/components/Project3/Main.vue?01d2"],"sourcesContent":["<template>\r\n    <header>\r\n        <div class=\"d.flex \r\n            d-flex justify-content-between \r\n            align-items-center\r\n            mb-1\r\n            flex-wrap\">\r\n            <div style=\" margin-left: 1rem;\">\r\n                <h4><router-link :to=\"{name: 'Project3'}\">{{sitename}}</router-link></h4>\r\n            </div>\r\n            <div class=\"\">\r\n                <button class=\"btn\">\r\n                    <router-link \r\n                        active-class=\"active\" \r\n                        :to=\"{name: 'Form'}\"\r\n                    >\r\n                        <p class=\"bi bi-cart\" style=\"margin-top:8px;margin-right:1rem\">\r\n                              {{ this.userStore.cartItemCount.length }}\r\n                        </p>\r\n                    </router-link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </header>\r\n</template>\r\n<script>\r\nimport { UserStore } from '@/stores/UserStore';\r\nexport default {\r\n    name: 'my-header',\r\n    setup(){\r\n        const userStore = UserStore();\r\n        return{\r\n          userStore\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            sitename: \"Распродажа склада!\",\r\n        }\r\n    },\r\n    methods: {\r\n        showCheckout(){\r\n            this.$router.push({name:'Form'})\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\nheader{\r\n    background-color: lightgreen;\r\n    /* position:fixed; \r\n    left:0;           \r\n    top:86px;        \r\n    width:100vw;      \r\n    z-index:200;  */\r\n     \r\n}\r\na {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n.router-link-exact-active {\r\n  color:rgb(8, 8, 8);\r\n \r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=717cc7a8&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=717cc7a8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-717cc7a8\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <Header/>\r\n  <my-header></my-header>\r\n  <main class=\"m-3\">\r\n    <div v-for=\"product in sortedProducts\" :key=\"product.id\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4 col-md-offset-0\">\r\n          <figure>\r\n            <img class=\"product\" v-bind:src=\"product.image\" >\r\n          </figure>\r\n        </div>\r\n        <div class=\"col-md-8 col-md-offset-0 description\">\r\n          <h3><router-link \r\n            :to=\"{ name : 'ProductId', params: {id: product.id}}\" \r\n            >{{product.title}}\r\n            </router-link>\r\n          </h3>\r\n          <p v-html=\"product.description\"></p>\r\n          <!--| formatPrice-->\r\n          <p class=\"price\">Цена:  \r\n            {{product.price || formatPrice}}  грн\r\n          </p>\r\n          <div class=\"rating\">\r\n            <span>Состояние товара: </span>\r\n            <span  \r\n              :class=\"{'rating-active' :checkRating(n, product)}\"\r\n              v-for=\"n in 5\" :key=\"n\">☆</span>\r\n          </div>\r\n          <br>\r\n          <div class=\"d-flex mt-4 flex-wrap align-content-around\">\r\n            <button class=\"btn add-btn\"\r\n              v-on:click=\"addToCart(product)\"\r\n              v-if=\"canAddToCart(product)\">Добавить в корзину\r\n            </button>\r\n            <button disabled=\"true\" class=\" btn btn-light\"\r\n              v-else >Добавить в корзину\r\n            </button>\r\n            <span class=\"inventory-message\"\r\n                v-if=\"product.availableInventory - cartCount(product.id) === 0\">Товар закончился\r\n            </span>\r\n            <div class=\"inventory-message\"\r\n                v-else-if=\"product.availableInventory - cartCount(product.id) < 5\">\r\n                Осталось: {{product.availableInventory - cartCount(product.id)}} шт!\r\n            </div>\r\n            <span class=\"inventory-message\"\r\n              v-else>Купить сейчас!\r\n            </span>\r\n          </div>\r\n        </div><!-- end of col-md-6-->\r\n      </div><!-- end of row-->\r\n      <hr />\r\n    </div><!-- end of v-for-->\r\n  </main>\r\n</div>\r\n</template>\r\n<script>\r\nimport MyHeader from './Header.vue';\r\nimport axios from 'axios';\r\nimport { UserStore } from '@/stores/UserStore';\r\nexport default {\r\n  name: 'main-component',\r\n  data() {\r\n    return {\r\n      products: [],\r\n    };\r\n  },\r\n  components: { MyHeader },\r\n  setup(){\r\n    const userStore = UserStore();\r\n        return{\r\n          userStore,\r\n        }\r\n  },\r\n  methods: {\r\n    formatPrice(price) {\r\n      if (!parseInt(price)) {\r\n        return '';\r\n      }\r\n      if (price > 99999) {\r\n        var priceString = (price / 100).toFixed(2);\r\n        var priceArray = priceString.split('').reverse();\r\n        var index = 3;\r\n        while (priceArray.length > index + 3) {\r\n          priceArray.splice(index + 3, 0, ',');\r\n          index += 4;\r\n        }\r\n        return priceArray.reverse().join('');\r\n      } else {\r\n        return (price / 100).toFixed(2);\r\n      }\r\n    },\r\n    checkRating(n, myProduct) {\r\n      return myProduct.rating - n >= 0;\r\n    },\r\n    addToCart(Product) {\r\n      this.userStore.addToCart(Product.id)\r\n      localStorage.setItem(\"products-list\", JSON.stringify(this.userStore.cartItemCount))\r\n    },\r\n    canAddToCart(Product) {\r\n      //return this.product.availableInventory > this.cartItemCount;\r\n      return (\r\n        Product.availableInventory >\r\n        this.cartCount(Product.id)\r\n      );\r\n    },\r\n    cartCount(id) {\r\n      let count = 0;\r\n      for (let i = 0; i < this.userStore.cartItemCount.length; i++) {\r\n        if (this.userStore.cartItemCount[i] === id) {\r\n          count++;\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n  },\r\n  computed: {\r\n    cartItemCount() {\r\n      return this.userStore.cartItemCount.length || '';\r\n    },\r\n    sortedProducts() {\r\n      function compare(a, b) {\r\n          if (a.title.toLowerCase() < b.title.toLowerCase())\r\n            return -1;\r\n          if (a.title.toLowerCase() > b.title.toLowerCase())\r\n            return 1;\r\n          return 0;\r\n        }\r\n      if (Object.keys(this.products).length > 0) {\r\n        let productsArray = this.products.slice(0);\r\n        return productsArray.sort(compare);\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  \r\n  created: async function() {\r\n    await axios.get('products.json').then(response => {\r\n      this.products = response.data.products;\r\n    });\r\n    const productsData = localStorage.getItem(\"products-list\")\r\n    if(productsData){\r\n      this.userStore.cartItemCount = JSON.parse(productsData)\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n  .btn{\r\n  background-color: greenyellow;\r\n}\r\n</style>","import { render } from \"./Main.vue?vue&type=template&id=6e86fe90&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=6e86fe90&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e86fe90\"]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","name","$data","_toDisplayString","userStore","cartItemCount","length","setup","UserStore","data","sitename","methods","showCheckout","this","$router","push","__exports__","render","disabled","_component_Header","_component_my_header","_Fragment","_renderList","$options","product","key","id","src","image","params","title","innerHTML","description","price","_hoisted_9","n","_hoisted_10","onClick","_hoisted_12","availableInventory","_hoisted_17","products","components","MyHeader","formatPrice","parseInt","priceString","toFixed","priceArray","split","reverse","index","splice","join","checkRating","myProduct","rating","addToCart","Product","localStorage","setItem","JSON","stringify","canAddToCart","cartCount","count","i","computed","sortedProducts","compare","a","b","toLowerCase","Object","keys","productsArray","slice","sort","created","async","axios","then","response","productsData","getItem","parse"],"sourceRoot":""}