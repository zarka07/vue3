{"version":3,"file":"js/project3.2921f8e7.js","mappings":"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","sources":["webpack://vue3/./src/components/Project3/Header.vue","webpack://vue3/./src/components/Project3/Header.vue?5326","webpack://vue3/./src/components/Project3/Main.vue","webpack://vue3/./src/components/Project3/Main.vue?01d2","webpack://vue3/./src/views/Project3.vue","webpack://vue3/./src/views/Project3.vue?1925"],"sourcesContent":["<template>\r\n    <header>\r\n        <div class=\"d.flex \r\n            d-flex justify-content-between \r\n            align-items-center\r\n            mb-1\r\n            flex-wrap\">\r\n            <div style=\" margin-left: 1rem;\">\r\n                <h4><router-link :to=\"{name: 'Project3'}\">{{sitename}}</router-link></h4>\r\n            </div>\r\n\r\n            <div class=\"\">\r\n                <button class=\"btn\">\r\n                    <router-link \r\n                        active-class=\"active\" \r\n                        :to=\"{name: 'Form'}\"\r\n                    >\r\n                        <p class=\"bi bi-cart\" style=\"margin-top:8px;margin-right:1rem\">\r\n                              {{ this.userStore.CURRENT_ITEMS_COUNT ?? 0 }}\r\n                        </p>\r\n                    </router-link>\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n    </header>\r\n</template>\r\n<script>\r\nimport { UserStore } from '@/stores/UserStore';\r\nexport default {\r\n    name: 'my-header',\r\n    setup(){\r\n        const userStore = UserStore();\r\n        return{\r\n          userStore\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            sitename: \"Распродажа склада!\",\r\n        }\r\n    },\r\n    methods: {\r\n        showCheckout(){\r\n            this.$router.push({name:'Form'})\r\n        },\r\n    },      \r\n}\r\n</script>\r\n<style scoped>\r\nheader{\r\n    background-color: lightgreen;\r\n    /* position:fixed; \r\n    left:0;           \r\n    top:86px;        \r\n    width:100vw;      \r\n    z-index:200;  */\r\n     \r\n}\r\na {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n.router-link-exact-active {\r\n  color:rgb(8, 8, 8);\r\n \r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=ba2435f0&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=ba2435f0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ba2435f0\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    \r\n    <my-header></my-header>\r\n\r\n    <main class=\"m-3\">\r\n      <div class=\"d-grid gap-2 d-md-flex justify-content-md-start\">\r\n        <input v-model=\"filter\" type=\"text\" placeholder=\"Фильтр\"/>\r\n        <button \r\n          v-if=\"page > 1\"\r\n          class=\"btn btn-primary me-md-2\" \r\n          type=\"button\"\r\n          @click=\"page--\">Назад\r\n        </button>\r\n        <button \r\n          v-if=\"hasNextPage\"\r\n          class=\"btn btn-primary me-md-2\" \r\n          type=\"button\"\r\n          @click=\"page++\">Вперед\r\n        </button>\r\n      </div>\r\n\r\n      <hr>\r\n\r\n      <div v-for=\"product in filteredList()\" :key=\"product.id\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-md-offset-0\">\r\n            <figure>\r\n              <img class=\"product\" v-bind:src=\"product.image\" >\r\n            </figure>\r\n          </div>\r\n          <div class=\"col-md-8 col-md-offset-0 description\">\r\n            <h3><router-link \r\n              :to=\"{ name : 'ProductId', params: {id: product.id}}\" \r\n              >{{product.title}}\r\n              </router-link>\r\n            </h3>\r\n            \r\n            <p class=\"price\">Цена:  \r\n              {{product.price || formatPrice}}  грн\r\n            </p>\r\n            <div class=\"rating\">\r\n              <span>Состояние товара: </span>\r\n              <span  \r\n                :class=\"{'rating-active' :checkRating(n, product)}\"\r\n                v-for=\"n in 5\" :key=\"n\">☆</span>\r\n            </div>\r\n            <br>\r\n            <div class=\"d-flex mt-4 flex-wrap align-content-around\">\r\n              <button class=\"btn add-btn\"\r\n                v-on:click=\"addToCart(product)\"\r\n                v-if=\"canAddToCart(product)\">Добавить в корзину\r\n              </button>\r\n              <button disabled=\"true\" class=\" btn btn-light\"\r\n                v-else >Добавить в корзину\r\n              </button>\r\n              <span class=\"inventory-message\"\r\n                  v-if=\"product.availableInventory - cartCount(product.id) === 0\">Товар закончился\r\n              </span>\r\n              <div class=\"inventory-message\"\r\n                  v-else-if=\"product.availableInventory - cartCount(product.id) < 5\">\r\n                  Осталось: {{product.availableInventory - cartCount(product.id)}} шт!\r\n              </div>\r\n              <span class=\"inventory-message\"\r\n                v-else>Купить сейчас!\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n    </main>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport MyHeader from './Header.vue';\r\nimport axios from 'axios';\r\nimport { UserStore } from '@/stores/UserStore';\r\nexport default {\r\n  name: 'main-component',\r\n  data() {\r\n    return {\r\n      products: [],\r\n      filter: \"\",\r\n      page: 1,\r\n      hasNextPage: true\r\n    };\r\n  },\r\n  components: { MyHeader },\r\n  setup(){\r\n    const userStore = UserStore();\r\n        return{\r\n          userStore,\r\n        }\r\n  },\r\n  methods: {\r\n    filteredList(){\r\n      const start = (this.page - 1)*4;\r\n      const end = this.page*4 - 1;\r\n      const filteredList = this.products.filter(product => product.title.\r\n        toLowerCase().\r\n        includes(this.filter))\r\n        \r\n      this.hasNextPage = filteredList.length > end  \r\n      return filteredList.slice(start, end);\r\n    },\r\n    formatPrice(price) {\r\n      if (!parseInt(price)) {\r\n        return '';\r\n      }\r\n      if (price > 99999) {\r\n        var priceString = (price / 100).toFixed(2);\r\n        var priceArray = priceString.split('').reverse();\r\n        var index = 3;\r\n        while (priceArray.length > index + 3) {\r\n          priceArray.splice(index + 3, 0, ',');\r\n          index += 4;\r\n        }\r\n        return priceArray.reverse().join('');\r\n      } else {\r\n        return (price / 100).toFixed(2);\r\n      }\r\n    },\r\n    checkRating(n, myProduct) {\r\n      return myProduct.rating - n >= 0;\r\n    },\r\n    addToCart(Product) {\r\n      this.userStore.addToCart(Product.id)  \r\n    },\r\n    canAddToCart(Product) {\r\n      //return this.product.availableInventory > this.cartItemCount;\r\n      return (\r\n        Product.availableInventory >\r\n        this.cartCount(Product.id)\r\n      );\r\n    },\r\n    cartCount(id) {\r\n      let count = 0;\r\n      for (let i = 0; i < this.userStore.cartItems.length; i++) {\r\n        if (this.userStore.cartItems[i] === id) {\r\n          count++;\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n  },\r\n  computed: {\r\n    // cartItems() {\r\n    //   return this.userStore.cartItems.length || 0;\r\n    // },\r\n\r\n    sortedProducts() {\r\n      function compare(a, b) {\r\n          if (a.title.toLowerCase() < b.title.toLowerCase())\r\n            return -1;\r\n          if (a.title.toLowerCase() > b.title.toLowerCase())\r\n            return 1;\r\n          return 0;\r\n        }\r\n      if (Object.keys(this.products).length > 0) {\r\n        let productsArray = this.products.slice(0);\r\n        return productsArray.sort(compare);\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  created: async function() {\r\n    await axios.get('products.json').then(response => {\r\n      this.products = response.data.products;\r\n    });\r\n\r\n    const windowData = Object.fromEntries(new URL(window.location).searchParams.entries())\r\n    if(windowData.filter){\r\n      this.filter = windowData.filter\r\n    }  \r\n    if(windowData.page){\r\n      this.page = windowData.page;\r\n    }\r\n  },\r\n  watch:{\r\n    filter(){\r\n      this.page = 1;\r\n      window.history.\r\n      pushState(null, document.title, `/?filter=${this.filter}&page=${this.page}`)\r\n  }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n  .btn{\r\n  background-color: greenyellow;\r\n}\r\n</style>","import { render } from \"./Main.vue?vue&type=template&id=4f3c34c2&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=4f3c34c2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4f3c34c2\"]])\n\nexport default __exports__","<template>\r\n    <div>\r\n        <Header/>\r\n        <div>\r\n            <Main/>\r\n        </div>\r\n        <Footer/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue';\r\nimport Footer from '@/components/Footer.vue';\r\nimport Main from '@/components/Project3/Main.vue';\r\nexport default {\r\n    name: 'project3-component',\r\n    components: { Header, Main, Footer }\r\n}\r\n</script>","import { render } from \"./Project3.vue?vue&type=template&id=d3ed794c\"\nimport script from \"./Project3.vue?vue&type=script&lang=js\"\nexport * from \"./Project3.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","name","$data","_toDisplayString","userStore","CURRENT_ITEMS_COUNT","setup","UserStore","data","sitename","methods","showCheckout","this","$router","push","__exports__","render","disabled","_component_my_header","$event","type","placeholder","onClick","_hoisted_3","_Fragment","_renderList","$options","product","key","id","src","image","params","title","price","_hoisted_10","n","_hoisted_11","_hoisted_13","availableInventory","_hoisted_18","products","filter","page","hasNextPage","components","MyHeader","filteredList","start","end","toLowerCase","includes","length","slice","formatPrice","parseInt","priceString","toFixed","priceArray","split","reverse","index","splice","join","checkRating","myProduct","rating","addToCart","Product","canAddToCart","cartCount","count","i","cartItems","computed","sortedProducts","compare","a","b","Object","keys","productsArray","sort","created","async","axios","then","response","windowData","fromEntries","URL","window","location","searchParams","entries","watch","history","pushState","document","_component_Header","_component_Main","_component_Footer","Header","Main","Footer"],"sourceRoot":""}