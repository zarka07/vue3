"use strict";(self["webpackChunkvue3"]=self["webpackChunkvue3"]||[]).push([[495],{6083:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var r=s(3396),o=s(7139);const a={key:0,class:"alert alert-danger align-items-center",role:"alert"},i={style:{"text-align":"center"}},n={class:"main",style:{"min-height":"77vh"}},l={class:"Header row",style:{margin:"0"}},u={class:"title col-xs-12 col-sm-6 col-md-6"},c={class:"dropdown col-xs-12 col-sm-6 col-md-6"},d={class:"btn dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},p={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},h=["onClick"],g={class:"dropdown-item",href:"#"};function w(t,e,s,w,m,P){const k=(0,r.up)("Header"),v=(0,r.up)("PostList"),_=(0,r.up)("Footer");return(0,r.wg)(),(0,r.iD)("div",null,[this.errorStore.isError?((0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",i,(0,o.zw)(this.errorStore.statusCode),1)])):(0,r.kq)("",!0),(0,r.Wm)(k),(0,r._)("div",n,[(0,r._)("div",l,[(0,r._)("div",u,[(0,r._)("h2",null,(0,o.zw)(t.$t("AppVue.Vue")),1)]),(0,r._)("div",c,[(0,r._)("button",d,(0,o.zw)(t.$t("AppVue.Language")),1),(0,r._)("ul",p,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.locales,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e,onClick:t=>P.changeLang(e)},[(0,r._)("a",g,(0,o.zw)(t.$t("AppVue.Language"))+": "+(0,o.zw)(e),1)],8,h)))),128))])])]),(0,r.Wm)(v)]),(0,r.Wm)(_)])}var m=s(3954),P=s(1375);const k={class:"postlist p-2"},v={class:"posts"},_={class:"post"},y={"aria-label":"Page navigation example"},S={class:"pagination"},f={class:"page-item"},b={class:"page-item"},C=["onClick"],z={class:"page-item"};function D(t,e,s,a,i,n){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",k,[(0,r._)("div",null,[(0,r._)("div",null,[(0,r._)("div",null,[(0,r._)("div",v,[(0,r._)("h3",null,(0,o.zw)(t.$t("PostlistVue.Postlist")),1)]),(0,r._)("ul",_,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.displayedPosts,(t=>((0,r.wg)(),(0,r.iD)("li",{key:t.id},[(0,r.Wm)(l,{to:{name:"PostId",params:{id:t.id,currentPage:this.userStore.currentPage}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.id)+". "+(0,o.zw)(t.title),1)])),_:2},1032,["to"])])))),128))])])])]),(0,r._)("nav",y,[(0,r._)("ul",S,[(0,r._)("li",f,[1!=this.userStore.currentPage?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"page-link",style:{color:"#4CAF50"},onClick:e[0]||(e[0]=t=>this.userStore.currentPage--)},(0,o.zw)(t.$t("PostlistVue.Previous")),1)):(0,r.kq)("",!0)]),(0,r._)("li",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.pages.slice(this.userStore.currentPage-1,this.userStore.currentPage+5),(t=>((0,r.wg)(),(0,r.iD)("button",{type:"button",class:"page-link",key:t,onClick:e=>this.userStore.currentPage=t},(0,o.zw)(t),9,C)))),128))]),(0,r._)("li",z,[this.userStore.currentPage<i.pages.length?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",onClick:e[1]||(e[1]=t=>this.userStore.currentPage++),style:{color:"#4CAF50"},class:"page-link"},(0,o.zw)(t.$t("PostlistVue.Next")),1)):(0,r.kq)("",!0)])])])])}var $=s(1937),E=s(1896),L=s(4573),Z={name:"PostList",mixins:[$.Z,E.Z],setup(){const t=(0,L.U)();return{userStore:t}},data(){return{path:"posts",posts:[],perPage:10,pages:[]}},methods:{setPages(){let t=Math.ceil(this.posts.length/this.perPage);for(let e=1;e<=t;e++)this.pages.push(e)},paginate(t){let e=this.userStore.currentPage,s=this.perPage,r=e*s-s,o=e*s;return t.slice(r,o)}},computed:{displayedPosts(){return this.paginate(this.posts)}},watch:{posts(){this.setPages()}},filters:{trimWords(t){return t.split(" ").splice(0,20).join(" ")+"..."}}},x=s(89);const V=(0,x.Z)(Z,[["render",D],["__scopeId","data-v-dc93763a"]]);var H=V,A=s(5954),W={name:"project2-component",components:{Header:m.Z,Footer:P.Z,PostList:H},setup(){const t=(0,A.J)();return{errorStore:t}},methods:{changeLang(t){this.$i18n.locale!==t&&(this.$i18n.locale=t)}},data(){return{locales:"ru,en".split(",")}}};const F=(0,x.Z)(W,[["render",w],["__scopeId","data-v-2061f36e"]]);var j=F},1937:function(t,e,s){var r=s(6265),o=s.n(r),a=s(290),i=s(5954);e["Z"]={data(){const t=(0,a.$)(),e=(0,i.J)();return{loaderStore:t,errorStore:e,loading:!1,statusCode:"",isError:!1}},methods:{async get(t,e=null){return this.loaderStore.showLoader(),await o().get("https://jsonplaceholder.typicode.com/"+t).then((t=>null!==e?e(t.data):t.data)).catch((t=>{if(t.response.status){const e=t.response.status;switch(e){case 400:case 404:this.errorStore.showError(e);break;case 401:case 403:this.errorStore.showError(e);break;case 422:this.errorStore.showError(e);break;case 500:case 501:case 502:case 503:case 504:case 505:this.errorStore.showError(e,"500"),this.$router.go(-1);break;default:t({statusCode:e})}}})).finally((()=>{this.loaderStore.hideLoader()}))}}}},1896:function(t,e){e["Z"]={methods:{async showPosts(t){this.posts=await this.get(t)}},created(){this.showPosts(this.path)}}},5954:function(t,e,s){s.d(e,{J:function(){return o}});var r=s(4301);const o=(0,r.Q_)("error",{state:()=>({isError:!1,statusCode:null}),actions:{showError(t){this.statusCode=t,this.isError=!0}}})}}]);
//# sourceMappingURL=project2.4c63ad75.js.map