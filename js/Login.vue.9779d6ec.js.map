{"version":3,"file":"js/Login.vue.9779d6ec.js","mappings":"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","sources":["webpack://vue3/./src/components/Project5/Views/Login.vue","webpack://vue3/./src/components/Project5/Views/Login.vue?8290"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <form class=\"form\" @submit.prevent=\"onSubmit()\">\r\n      <p class=\"formDescription\">Домашняя бухгалтерия</p>\r\n\r\n      <div class=\"form-floating mb-3\">\r\n        <input\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          id=\"floatingInput\"\r\n          placeholder=\"name@example.com\"\r\n          autocomplete=\"username \"\r\n          v-model.trim=\"email\"\r\n        />\r\n        <label for=\"floatingInput\">Email</label>\r\n        <div v-if=\"v$.$invalid\" class=\"text-danger errors\">\r\n          <span v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n            <i v-if=\"item.$property === 'email'\">{{ item.$message }}</i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-floating\">\r\n        <input\r\n          type=\"password\"\r\n          class=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          placeholder=\"Пароль\"\r\n          autocomplete=\"current-password\"\r\n          v-model.trim=\"password\"\r\n        />\r\n        <label for=\"floatingPassword\">Пароль</label>\r\n        <div v-if=\"v$.$invalid\" class=\"text-danger errors\">\r\n          <span v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n            <i v-if=\"item.$property === 'password'\">{{ item.$message }}</i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"!v$.$invalid\" class=\"mt-4 d-grid gap-2\">\r\n        <button type=\"submit\" class=\"btn btn-success\">\r\n          Войти <i class=\"bi bi-arrow-right-square-fill float-end\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-button mt-3 account have-not-account\">\r\n        <p>\r\n          Нет аккаунта?\r\n          <router-link class=\"register\" to=\"/register\"\r\n            >Зарегистрироваться</router-link\r\n          >\r\n        </p>\r\n      </div>\r\n\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email, minLength } from \"@vuelidate/validators\";\r\nimport { CRMstore } from \"@/stores/CRMstore\";\r\nexport default {\r\n  name: \"login-component\",\r\n  setup() {\r\n    const crmStore = CRMstore();\r\n    return {\r\n      crmStore,\r\n      v$: useVuelidate(),\r\n    };\r\n  },\r\n  data: () => ({\r\n    email: \"\",\r\n    password: \"\",\r\n  }),\r\n  validations() {\r\n    return {\r\n      email: { required, email },\r\n      password: { required, minLength: minLength(6) },\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      }\r\n      const formData = {\r\n        email: this.email,\r\n        password: this.password,\r\n      };\r\n\r\n      try {\r\n        await this.crmStore.login(formData);\r\n        this.$toast.success(`Вы вошли в систему`);\r\n        this.$router.push({name:'Home'});\r\n      } catch (e) {\r\n        this.$toast.error(e.message);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 80vh;\r\n}\r\n\r\n.form {\r\n  background-color: #fff;\r\n  width: 400px;\r\n  height: auto;\r\n  padding: 25px;\r\n}\r\n\r\n.formDescription {\r\n  font-size: 1.5rem;\r\n  color: rgb(87, 87, 87);\r\n}\r\n\r\n.i {\r\n  margin-left: 25px !important;\r\n}\r\n\r\n.have-not-account {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.register {\r\n  color: darkorange;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.errors {\r\n  margin: 10px;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=5837f6f4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5837f6f4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5837f6f4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_hoisted_12","_createElementBlock","onSubmit","$options","_hoisted_2","id","placeholder","autocomplete","_ctx","$event","_hoisted_4","$setup","$invalid","_Fragment","_renderList","$silentErrors","item","key","uid","$property","_hoisted_6","_toDisplayString","$message","_hoisted_8","_hoisted_10","_hoisted_13","_createVNode","_component_router_link","to","name","setup","crmStore","CRMstore","v$","useVuelidate","data","email","password","validations","required","minLength","methods","async","this","formData","login","$toast","success","$router","push","e","error","message","__exports__","render"],"sourceRoot":""}