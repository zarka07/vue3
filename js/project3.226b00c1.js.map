{"version":3,"file":"js/project3.226b00c1.js","mappings":"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","sources":["webpack://vue3/./src/components/Project3/Header.vue","webpack://vue3/./src/components/Project3/Header.vue?5326","webpack://vue3/./src/components/Project3/Main.vue","webpack://vue3/./src/components/Project3/Main.vue?01d2","webpack://vue3/./src/views/Project3.vue","webpack://vue3/./src/views/Project3.vue?1925"],"sourcesContent":["<template>\r\n    <header>\r\n        <div \r\n            class=\"d.flex \r\n            d-flex justify-content-between \r\n            align-items-center\r\n            mb-1\r\n            flex-wrap\">\r\n            <div style=\" margin-left: 1rem;\">\r\n                <h4><router-link :to=\"{name: 'Project3'}\">{{sitename}}</router-link></h4>\r\n            </div>\r\n\r\n            <div>\r\n                <button class=\"btn\">\r\n                    <router-link \r\n                        active-class=\"active\" \r\n                        :to=\"{name: 'Form'}\"\r\n                    >\r\n                        <p class=\"bi bi-cart\" style=\"margin-top:8px;margin-right:1rem\">\r\n                              {{ this.userStore.CURRENT_ITEMS_COUNT ?? 0 }}\r\n                        </p>\r\n                    </router-link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </header>\r\n</template>\r\n<script>\r\nimport { UserStore } from '@/stores/UserStore';\r\nexport default {\r\n    name: 'my-header',\r\n    setup(){\r\n        const userStore = UserStore();\r\n        return{\r\n          userStore\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            sitename: \"Распродажа склада!\",\r\n        }\r\n    },\r\n    methods: {\r\n        showCheckout(){\r\n            this.$router.push({name:'Form'})\r\n        },\r\n    },      \r\n}\r\n</script>\r\n<style scoped>\r\nheader{\r\n    background-color: #198754;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n\r\n.router-link-exact-active {\r\n  color:rgb(8, 8, 8);\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=ad5e9118&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=ad5e9118&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ad5e9118\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!-- Project3 header -->\r\n    <my-header></my-header>\r\n    <!-- main -->\r\n    <main class=\"m-3\">\r\n      <!-- filter -->\r\n      <div class=\"d-grid gap-2 d-md-flex justify-content-md-start\">\r\n        <input v-model=\"filter\" type=\"text\" placeholder=\"Фильтр\" />\r\n        <button\r\n          v-if=\"page > 1\"\r\n          class=\"btn btn-primary me-md-2\"\r\n          type=\"button\"\r\n          @click=\"page--\"\r\n        >\r\n          Назад\r\n        </button>\r\n        <button\r\n          v-if=\"hasNextPage\"\r\n          class=\"btn btn-primary me-md-2\"\r\n          type=\"button\"\r\n          @click=\"page++\"\r\n        >\r\n          Вперед\r\n        </button>\r\n      </div>\r\n\r\n      <hr />\r\n      <!-- filtered list -->\r\n      <div v-for=\"product in filteredList()\" :key=\"product.id\">\r\n        <div class=\"row\">\r\n          <!-- product image -->\r\n          <div class=\"col-md-4 col-md-offset-0\">\r\n            <figure>\r\n              <img class=\"product\" v-bind:src=\"product.image\" />\r\n            </figure>\r\n          </div>\r\n          <!-- product title -->\r\n          <div class=\"col-md-8 col-md-offset-0 description\">\r\n            <h3>\r\n              <router-link\r\n                :to=\"{ name: 'ProductId', params: { id: product.id } }\"\r\n                >{{ product.title }}\r\n              </router-link>\r\n            </h3>\r\n            <!-- product price -->\r\n            <p class=\"price\">Цена: {{ product.price || formatPrice }} грн</p>\r\n            <!-- product rating -->\r\n            <div class=\"rating\">\r\n              <span>Состояние товара: </span>\r\n              <span\r\n                :class=\"{ 'rating-active': checkRating(n, product) }\"\r\n                v-for=\"n in 5\"\r\n                :key=\"n\"\r\n                >☆</span\r\n              >\r\n            </div>\r\n            <br />\r\n            <!-- can buy now -->\r\n            <div class=\"d-flex mt-4 flex-wrap align-content-around\">\r\n              <button\r\n                class=\"btn add-btn\"\r\n                v-on:click=\"addToCart(product)\"\r\n                v-if=\"canAddToCart(product)\"\r\n              >\r\n                Добавить в корзину\r\n              </button>\r\n              <button disabled=\"true\" class=\"btn btn-light\" v-else>\r\n                Добавить в корзину\r\n              </button>\r\n              <span\r\n                class=\"inventory-message\"\r\n                v-if=\"product.availableInventory - cartCount(product.id) === 0\"\r\n                >Товар закончился\r\n              </span>\r\n              <div\r\n                class=\"inventory-message\"\r\n                v-else-if=\"\r\n                  product.availableInventory - cartCount(product.id) < 5\r\n                \"\r\n              >\r\n                Осталось:\r\n                {{ product.availableInventory - cartCount(product.id) }} шт!\r\n              </div>\r\n              <span class=\"inventory-message\" v-else>Купить сейчас! </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MyHeader from \"./Header.vue\";\r\nimport axios from \"axios\";\r\nimport { UserStore } from \"@/stores/UserStore\";\r\nexport default {\r\n  name: \"main-component\",\r\n  data() {\r\n    return {\r\n      products: [],\r\n      filter: \"\",\r\n      page: 1,\r\n      hasNextPage: true,\r\n    };\r\n  },\r\n  components: { MyHeader },\r\n  setup() {\r\n    const userStore = UserStore();\r\n    return {\r\n      userStore,\r\n    };\r\n  },\r\n  methods: {\r\n    filteredList() {\r\n      const start = (this.page - 1) * 4;\r\n      const end = this.page * 4 - 1;\r\n      const filteredList = this.products.filter((product) =>\r\n        product.title.toLowerCase().includes(this.filter)\r\n      );\r\n\r\n      this.hasNextPage = filteredList.length > end;\r\n      return filteredList.slice(start, end);\r\n    },\r\n    formatPrice(price) {\r\n      if (!parseInt(price)) {\r\n        return \"\";\r\n      }\r\n      if (price > 99999) {\r\n        var priceString = (price / 100).toFixed(2);\r\n        var priceArray = priceString.split(\"\").reverse();\r\n        var index = 3;\r\n        while (priceArray.length > index + 3) {\r\n          priceArray.splice(index + 3, 0, \",\");\r\n          index += 4;\r\n        }\r\n        return priceArray.reverse().join(\"\");\r\n      } else {\r\n        return (price / 100).toFixed(2);\r\n      }\r\n    },\r\n    checkRating(n, myProduct) {\r\n      return myProduct.rating - n >= 0;\r\n    },\r\n    addToCart(Product) {\r\n      this.userStore.addToCart(Product.id);\r\n    },\r\n    canAddToCart(Product) {\r\n      //return this.product.availableInventory > this.cartItemCount;\r\n      return Product.availableInventory > this.cartCount(Product.id);\r\n    },\r\n    cartCount(id) {\r\n      let count = 0;\r\n      for (let i = 0; i < this.userStore.cartItems.length; i++) {\r\n        if (this.userStore.cartItems[i] === id) {\r\n          count++;\r\n        }\r\n      }\r\n      return count;\r\n    },\r\n  },\r\n  computed: {\r\n    sortedProducts() {\r\n      function compare(a, b) {\r\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1;\r\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1;\r\n        return 0;\r\n      }\r\n      if (Object.keys(this.products).length > 0) {\r\n        let productsArray = this.products.slice(0);\r\n        return productsArray.sort(compare);\r\n      }\r\n      return 0;\r\n    },\r\n  },\r\n  created: async function () {\r\n    await axios.get(\"products.json\").then((response) => {\r\n      this.products = response.data.products;\r\n    });\r\n\r\n    const windowData = Object.fromEntries(\r\n      new URL(window.location).searchParams.entries()\r\n    );\r\n    if (windowData.filter) {\r\n      this.filter = windowData.filter;\r\n    }\r\n    if (windowData.page) {\r\n      this.page = windowData.page;\r\n    }\r\n  },\r\n  watch: {\r\n    filter() {\r\n      this.page = 1;\r\n      window.history.pushState(\r\n        null,\r\n        document.title,\r\n        `/?filter=${this.filter}&page=${this.page}`\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.btn {\r\n  background-color: greenyellow;\r\n}\r\n</style>","import { render } from \"./Main.vue?vue&type=template&id=c8f760a4&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=c8f760a4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c8f760a4\"]])\n\nexport default __exports__","<template>\r\n    <div>\r\n        <Header/>\r\n        <div>\r\n            <Main/>\r\n        </div>\r\n        <Footer/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue';\r\nimport Footer from '@/components/Footer.vue';\r\nimport Main from '@/components/Project3/Main.vue';\r\nexport default {\r\n    name: 'project3-component',\r\n    components: { Header, Main, Footer }\r\n}\r\n</script>","import { render } from \"./Project3.vue?vue&type=template&id=d3ed794c\"\nimport script from \"./Project3.vue?vue&type=script&lang=js\"\nexport * from \"./Project3.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","name","$data","_toDisplayString","userStore","CURRENT_ITEMS_COUNT","setup","UserStore","data","sitename","methods","showCheckout","this","$router","push","__exports__","render","disabled","_component_my_header","$event","type","placeholder","onClick","_hoisted_3","_Fragment","_renderList","$options","product","key","id","src","image","params","title","price","_hoisted_10","n","_hoisted_11","_hoisted_13","availableInventory","_hoisted_18","products","filter","page","hasNextPage","components","MyHeader","filteredList","start","end","toLowerCase","includes","length","slice","formatPrice","parseInt","priceString","toFixed","priceArray","split","reverse","index","splice","join","checkRating","myProduct","rating","addToCart","Product","canAddToCart","cartCount","count","i","cartItems","computed","sortedProducts","compare","a","b","Object","keys","productsArray","sort","created","async","axios","then","response","windowData","fromEntries","URL","window","location","searchParams","entries","watch","history","pushState","document","_component_Header","_component_Main","_component_Footer","Header","Main","Footer"],"sourceRoot":""}